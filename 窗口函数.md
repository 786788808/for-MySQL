##### 背景：
##### 平时想看产品销量排名，但是用一般的函数操作起来，似乎有点麻烦，思路一断就崩盘。寻思，难道没有封装函数之类的，一键操作？
##### 于是，找到了更方便的窗口函数，终于可以省省脑力了。
![](https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1605080956732&di=09faf5f4562ec3b039d84ca015dfa279&imgtype=0&src=http%3A%2F%2Fimg2.imgtn.bdimg.com%2Fit%2Fu%3D2137599517%2C366805415%26fm%3D214%26gp%3D0.jpg)
先举个栗子：  
我手上有5家店铺的交易数据，我想看每家店铺的销售数量排行，了解每家店产品销量情况。  
表名：payment,列：sku(产品sku),quanqity(销售数量)  
select *, 
rank() over (partition by `店铺` order by `quantity` desc)  AS `ranking`   
from `payment`; 

输出结果是在每行记录后面新增一列：ranking，作为产品销量的排行。并不会像聚合函数一样将数据压缩成一行。在找销量前几的产品时贼好用。  
